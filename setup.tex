% !TEX root = ./main.tex

\usepackage[a4paper,left=3cm,right=2cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{bm}
\usepackage{mathrsfs}

\usepackage{titlesec}
\usepackage{titletoc}
\usepackage[titletoc]{appendix}

\usepackage{graphicx}
% 定义图片文件目录与扩展名
\graphicspath{{assets/}}
\DeclareGraphicsExtensions{.pdf,.eps,.png,.jpg,.jpeg}

\usepackage{subcaption}

% 表和图的计数器分开
\usepackage{chngcntr}
\counterwithin{figure}{section}
\counterwithin{table}{section}
\counterwithin{equation}{section}

% 图表的编号格式自定义为 "表/图 章节号-顺序号"
\renewcommand{\thefigure}{\thesection-\arabic{figure}}
\renewcommand{\thetable}{\thesection-\arabic{table}}

% 公式的编号格式自定义为 "章节号-顺序号"
\renewcommand{\theequation}{\thesection-\arabic{equation}}

% 图表的标题字号为五号，加粗，编号与标题之间空一格
\captionsetup[figure]{labelfont={bf,small,stretch=1.25}, textfont={bf,small,stretch=1.25}, labelsep=space}
\captionsetup[table]{labelfont={bf,small,stretch=1.25}, textfont={bf,small,stretch=1.25}, labelsep=space}


% 将section的编号添加到pdf书签中
\usepackage[atend]{bookmark}
\bookmarksetup{
  numbered,
  addtohook={%
    \ifnum\bookmarkget{level}>1 %
      \bookmarksetup{numbered=false}%
    \fi
  },
}


% 调整itemize环境item之间的间距
\let\origitemize\itemize
\def\itemize{\origitemize\itemsep0em}


% 页眉页脚设置
\usepackage{fancyhdr}
\pagestyle{fancy}
% 清空页眉页脚
\fancyhf{} 
\lhead{}
\chead{}
\rhead{}
% 将页眉线的宽度设为 0
\renewcommand{\headrulewidth}{0pt}
\cfoot{\thepage}


% 使用 BibLaTeX 处理参考文献
%   biblatex-gb7714-2015 常用选项
%     gbnamefmt=lowercase     姓名大小写由输入信息确定
%     gbpub=false             禁用出版信息缺失处理
\usepackage[backend=biber,style=gb7714-2015]{biblatex}
% 文献表条目间的间距
\setlength{\bibitemsep}{0pt}
% 导入参考文献数据库
\addbibresource{refs.bib}
\renewcommand{\bibname}{参考文献}


% 使用三线表：toprule，midrule，bottomrule。
\usepackage{booktabs}

% 使用长表格
\usepackage{longtable}

% 表格中支持跨行
% \usepackage{multirow}

% 表格中数字按小数点对齐
% \usepackage{dcolumn}
% \newcolumntype{d}[1]{D{.}{.}{#1}}

% 附带脚注的表格
% \usepackage{threeparttable}

% 附带脚注的长表格
% \usepackage{threeparttablex}

% 代码环境宏包
% \usepackage{listings}
% \usepackage{color}
% \lstdefinestyle{lstStyleCode}{%
%   aboveskip         = \medskipamount,
%   belowskip         = \medskipamount,
%   basicstyle        = \ttfamily\zihao{6},
%   commentstyle      = \slshape\color{black!60},
%   stringstyle       = \color{green!40!black!100},
%   keywordstyle      = \bfseries\color{blue!50!black},
%   extendedchars     = false,
%   upquote           = true,
%   tabsize           = 2,
%   showstringspaces  = false,
%   xleftmargin       = 1em,
%   xrightmargin      = 1em,
%   breaklines        = false,
%   framexleftmargin  = 1em,
%   framexrightmargin = 1em,
%   backgroundcolor   = \color{gray!10},
%   columns           = flexible,
%   keepspaces        = true,
%   texcl             = true,
%   mathescape        = true
% }
% \lstnewenvironment{codeblock}[1][]{%
%   \lstset{style=lstStyleCode,#1}}{}

% 确定浮动对象的位置，可以使用 [H]，强制将浮动对象放到这里（可能效果很差）
% \usepackage{float}


\usepackage{ulem}
\linespread{1.5}

%---------------------------------------------------------------------
%   生成一定长度下划线并在其填充文字的新命令
%---------------------------------------------------------------------
\newcommand{\wideunderline}[2][2em]{%
	\uline{\makebox[\ifdim\width>#1\width\else#1\fi][c]{#2}}%
}

% hyperref 宏包在最后调用
\usepackage{hyperref}
